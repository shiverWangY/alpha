(function(e){function t(t){for(var i,l,o=t[0],d=t[1],c=t[2],s=0,m=[];s<o.length;s++)l=o[s],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&m.push(n[l][0]),n[l]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(e[i]=d[i]);h&&h(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,o=1;o<a.length;o++){var d=a[o];0!==n[d]&&(i=!1)}i&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var i={},n={app:0},r=[];function l(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=i,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var h=d;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("7a23");function n(e,t,a,n,r,l){const o=Object(i["resolveComponent"])("curve"),d=Object(i["resolveComponent"])("bar"),c=Object(i["resolveComponent"])("timeline");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createVNode"])(o,{width:.5*r.window_width-15,height:.8*r.window_height-20,top:10,left:10},null,8,["width","height"]),Object(i["createVNode"])(d,{width:.5*r.window_width-15,height:.85*r.window_height-20,top:10,left:.5*r.window_width+5},null,8,["width","height","left"]),Object(i["createVNode"])(c,{width:r.window_width-20,height:.2*r.window_height-10,top:.85*r.window_height,left:10},null,8,["width","height","top"])],64)}const r=e=>(Object(i["pushScopeId"])("data-v-18807f9e"),e=e(),Object(i["popScopeId"])(),e),l=r(()=>Object(i["createElementVNode"])("p",{id:"label"}," 累计收益率 ",-1)),o=["height","width"],d={id:"axis"},c=["x1","x2","y1","y2"],h=["x1","x2","y1","y2"],s=["dx","dy"],m=["dx","dy"],g=["dx","dy"],u=["dx","dy"],b=["dx","dy"],p={key:0,id:"curve"},f=["d"],x=["d"],y=["x","y","height","width"],O=["dx","dy"],j=["dx","dy"],w={id:"legend"},v=["dx"],_=["x","y"],k=["dx","dy"],N=["x","y"],V=["dx","dy"];function E(e,t,a,n,r,E){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"curve_view",style:Object(i["normalizeStyle"])(E.div_css)},[l,(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{id:"curve_svg",class:"axis",height:a.height,width:a.width,onClick:t[0]||(t[0]=(...e)=>E.log&&E.log(...e))},[Object(i["createElementVNode"])("g",d,[Object(i["createElementVNode"])("line",{id:"x_axis",x1:r.margin,x2:a.width-r.margin,y1:a.height-r.margin,y2:a.height-r.margin,stroke:"black"},null,8,c),Object(i["createElementVNode"])("line",{id:"y_axis",x1:r.margin,x2:r.margin,y1:r.margin,y2:a.height-r.margin,stroke:"black"},null,8,h),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:r.margin-5,dy:r.margin+5,"font-size":"14"}," 10 ",8,s),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:r.margin-5,dy:r.margin+.9*(a.height-2*r.margin)-5,"font-size":"14"}," 1 ",8,m),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:r.margin-5,dy:a.height-r.margin-5,"font-size":"14"}," 0 ",8,g),r.prepare?(Object(i["openBlock"])(),Object(i["createElementBlock"])("text",{key:0,"text-anchor":"start",dx:r.margin,dy:a.height-r.margin+15,"font-size":"14"},Object(i["toDisplayString"])(E.data[0]["time"]),9,u)):Object(i["createCommentVNode"])("",!0),r.prepare?(Object(i["openBlock"])(),Object(i["createElementBlock"])("text",{key:1,"text-anchor":"end",dx:a.width-r.margin,dy:a.height-r.margin+15,"font-size":"14"},Object(i["toDisplayString"])(E.data[E.data.length-1]["time"]),9,b)):Object(i["createCommentVNode"])("",!0)]),r.prepare?(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",p,[Object(i["createElementVNode"])("path",{d:E.line(E.data),fill:"none",stroke:"red","stroke-width":"3"},null,8,f),Object(i["createElementVNode"])("path",{d:E.line2(E.data),fill:"none",stroke:"grey","stroke-width":"3"},null,8,x),Object(i["createElementVNode"])("rect",{fill:"white",x:E.xS(E.diff(E.data[E.instant_index].time,E.data[0].time))+2,y:r.margin,height:a.height-2*r.margin-2,width:a.width},null,8,y),Object(i["createElementVNode"])("text",{dx:E.xS(E.diff(E.data[E.instant_index].time,E.data[0].time))+2+3,dy:E.yS(E.data[E.instant_index].rate)-3,stroke:"red","font-size":"12"},Object(i["toDisplayString"])(E.data[E.instant_index].rate.toFixed(3)),9,O),Object(i["createElementVNode"])("text",{dx:E.xS(E.diff(E.data[E.instant_index].time,E.data[0].time))+2+3,dy:E.yS(E.data[E.instant_index].rate2)+10,stroke:"grey","font-size":"12"},Object(i["toDisplayString"])(E.data[E.instant_index].rate2.toFixed(3)),9,j)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("g",w,[Object(i["createElementVNode"])("text",{id:"date","text-anchor":"end",dx:a.width-r.margin,dy:"50","font-size":"14"}," 日期："+Object(i["toDisplayString"])(this.date),9,v),Object(i["createElementVNode"])("rect",{x:r.margin+20,y:r.margin+20,fill:"red",height:"10",width:"10",rx:"3"},null,8,_),Object(i["createElementVNode"])("text",{dx:r.margin+40,dy:r.margin+30,fill:"black",height:"10",width:"10","font-size":"13","font-weight":"bold"}," alpha排名前10%等权 ",8,k),Object(i["createElementVNode"])("rect",{x:r.margin+20,y:r.margin+40,fill:"grey",height:"10",width:"10",rx:"3"},null,8,N),Object(i["createElementVNode"])("text",{dx:r.margin+40,dy:r.margin+50,fill:"black",height:"10",width:"10","font-size":"13","font-weight":"bold"}," 36只产品等权 ",8,V)])],8,o))],4)}var S=a("1a48"),B={name:"curve",props:{height:Number,width:Number,top:Number,left:Number},data(){return{margin:30,data1:[],data2:[],prepare:!1}},mounted(){S["csv"]("line_half.csv",e=>{this.data1=e,this.prepare=!0}),S["csv"]("line_one.csv",e=>{this.data2=e,this.prepare=!0})},computed:{instant_index(){let e=0;for(let t=0;t<this.data.length;t++)if(this.diff2(this.data[t].time,this.date)>0){e=t-1;break}return e},flag(){return this.$store.state.flag},date(){return this.$store.state.date},data_raw(){return"half"==this.flag?this.data1:this.data2},data(){let e=[];if(0==this.data_raw.length)return[];let t=this.data_raw[0]["time"];for(let a=0;a<this.data_raw.length;a++){let i=Object(),n=this.data_raw[a];i["time"]=n["time"],i["index"]=this.diff(n["time"],t),i["rate"]=parseFloat(n["rate"]),i["rate2"]=parseFloat(n["rate2"]),e.push(i)}return e},time_span(){let e=this.data_raw.length,t=this.data_raw[0].time,a=this.data_raw[e-1].time;return this.diff(t,a)},line2(){return S["svg"].line().x((function(e){return this.xS(e["index"])})).y((function(e){return this.yS(e["rate2"])}))},line(){return S["svg"].line().x((function(e){return this.xS(e["index"])})).y((function(e){return this.yS(e["rate"])}))},xS(){return S["scale"].linear().domain([0,this.time_span]).range([this.margin,this.width-this.margin])},yS(){return S["scale"].linear().domain([10,0]).range([this.margin,this.height-this.margin])},div_css(){let e=this.height,t=this.width,a="0px solid black",i="absolute",n=this.top,r=this.left;return"position:"+i+";height:"+e+"px;width:"+t+"px;border:"+a+";left:"+r+"px;top:"+n+"px;"}},methods:{log(){console.log(this.data),console.log(this.time_span),console.log(this.instant_index)},diff(e,t){let a=new Date(e),i=new Date(t);return Math.ceil(Math.abs(a-i)/864e5)},diff2(e,t){let a=new Date(e),i=new Date(t);return Math.ceil((a-i)/864e5)}}},z=(a("c12e"),a("6b0d")),C=a.n(z);const D=C()(B,[["render",E],["__scopeId","data-v-18807f9e"]]);var M=D;const F=Object(i["createTextVNode"])("控制台"),I=Object(i["createTextVNode"])("半年"),P=Object(i["createTextVNode"])("一年"),$={id:"date"};function T(e,t,a,n,r,l){const o=Object(i["resolveComponent"])("t-divider"),d=Object(i["resolveComponent"])("t-slider"),c=Object(i["resolveComponent"])("t-radio-button"),h=Object(i["resolveComponent"])("t-radio-group"),s=Object(i["resolveComponent"])("t-switch");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"timeline",style:Object(i["normalizeStyle"])(l.div_css)},[Object(i["createVNode"])(o,{id:"divider"},{default:Object(i["withCtx"])(()=>[F]),_:1}),Object(i["createVNode"])(d,{id:"timer",modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),label:l.time_lst[r.value],max:l.maxi,min:0},null,8,["modelValue","label","max"]),Object(i["createVNode"])(h,{variant:"primary-filled",id:"radio","default-value":"half"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{value:"half",onClick:t[1]||(t[1]=e=>r.type="half")},{default:Object(i["withCtx"])(()=>[I]),_:1}),Object(i["createVNode"])(c,{value:"one",onClick:t[2]||(t[2]=e=>r.type="one")},{default:Object(i["withCtx"])(()=>[P]),_:1})]),_:1}),Object(i["createVNode"])(s,{id:"switch",modelValue:r.auto,"onUpdate:modelValue":t[3]||(t[3]=e=>r.auto=e),size:"large",label:["自动播放：开","自动播放：关"]},null,8,["modelValue"]),Object(i["createElementVNode"])("text",$," 日期："+Object(i["toDisplayString"])(l.time_lst[r.value]),1)],4)}var L={name:"timeline",props:{height:Number,width:Number,top:Number,left:Number},data(){return{value:0,type:"half",timer:!1,auto:!1}},computed:{maxi(){return this.time_lst.length-1},flag(){return this.$store.state.flag},time_lst(){return"half"==this.type?["2015-06-26","2015-12-31","2016-06-24","2016-12-30","2017-06-30","2017-12-31","2018-06-30","2018-12-28","2019-06-30","2019-12-27","2020-06-26","2020-12-31","2021-06-25","2021-12-31","2022-06-24"]:["2015-12-31","2016-12-30","2017-12-31","2018-12-28","2019-12-27","2020-12-31","2021-12-31","2022-07-01"]},div_css(){let e=this.height,t=this.width,a="0px solid black",i="absolute",n=this.top,r=this.left;return"position:"+i+";height:"+e+"px;width:"+t+"px;border:"+a+";left:"+r+"px;top:"+n+"px;"}},watch:{flag(){this.value=0,this.type=this.flag},type(){this.$store.commit({type:"change_flag",flag:this.type})},value(){this.$store.commit({type:"change_date",date:this.time_lst[this.value]}),this.value==this.time_lst.length-1&&(this.auto=!1)},auto(e){e?this.timer=setInterval(()=>{this.value<this.time_lst.length&&this.value++},1500):(clearInterval(this.timer),this.timer=!1)}}};a("9bdf");const A=C()(L,[["render",T],["__scopeId","data-v-02d3cc54"]]);var J=A;const U=e=>(Object(i["pushScopeId"])("data-v-5fec38c8"),e=e(),Object(i["popScopeId"])(),e),H=U(()=>Object(i["createElementVNode"])("p",{id:"label"}," 区间收益率 ",-1)),W=["height","width"],q={key:0,id:"bars"},G=["height","width","x","y","fill"],K=["x","y"],Q=["dx","dy","stroke"],R={id:"axis"},X=["x1","x2","y1","y2"],Y=["x1","x2","y1","y2"],Z=["dx","dy"],ee=["dx","dy"],te=["dx","dy"];function ae(e,t,a,n,r,l){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"bar_view",style:Object(i["normalizeStyle"])(l.div_css)},[H,(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{id:"bar_svg",class:"axis",height:a.height+200,width:a.width,onClick:t[0]||(t[0]=e=>l.log())},[r.prepare?(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",q,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.data,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",{key:t},[Object(i["createElementVNode"])("rect",{height:e.rate>.5?Math.max(0,l.yS(.5)):Math.max(0,l.yS(e.rate)),width:a.width/36-10,x:r.margin+10+t*(a.width/36-2),y:e.rate>.5?a.height-5*r.margin-l.yS(.5):a.height-5*r.margin-l.yS(e.rate),fill:"1"==e.flag?"red":"grey",stroke:"none",rx:"3"},null,8,G)]))),128)),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.data,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",{key:t},[Object(i["createElementVNode"])("text",{"text-anchor":"middle",x:r.margin+10+t*(a.width/36-2)+3,y:e.rate>.5?a.height-5*r.margin-l.yS(.5)-5:a.height-5*r.margin-l.yS(e.rate)-5,stroke:"red","font-size":"9"},Object(i["toDisplayString"])("1"==e.flag?e.rate.toFixed(3):""),9,K),Object(i["createElementVNode"])("g",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.parse(e.name),(n,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("text",{key:l,"font-size":"12","font-family":"SimSun","text-anchor":"middle",dx:r.margin+10+t*(a.width/36-2)+4,dy:a.height-5*r.margin+12+12*l,stroke:"1"==e.flag?"red":"grey","stroke-width":"0.5","stroke-opacity":".9"},Object(i["toDisplayString"])(n),9,Q))),128))])]))),128))])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("g",R,[Object(i["createElementVNode"])("line",{id:"x_axis",x1:r.margin,x2:a.width-r.margin,y1:a.height-5*r.margin,y2:a.height-5*r.margin,stroke:"black"},null,8,X),Object(i["createElementVNode"])("line",{id:"y_axis",x1:r.margin,x2:r.margin,y1:r.margin,y2:a.height-5*r.margin,stroke:"black"},null,8,Y),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:r.margin-5,dy:r.margin+5,"font-size":"14"}," 0.5 ",8,Z),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:r.margin-5,dy:r.margin+5*(a.height-6*r.margin)/7-5,"font-size":"14"}," 0 ",8,ee),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:r.margin-5,dy:a.height-5*r.margin-5,"font-size":"14"}," -0.2 ",8,te)])],8,W))],4)}var ie={name:"bar",props:{height:Number,width:Number,top:Number,left:Number},data(){return{bar1:{data:{},flag:{}},bar2:{data:{},flag:{}},margin:30,prepare:!1}},mounted(){S["csv"]("bar_half.csv",e=>{this.bar1.flag=e,this.prepare=!0}),S["csv"]("bar_half2.csv",e=>{this.bar1.data=e,this.prepare=!0}),S["csv"]("bar_one.csv",e=>{this.bar2.flag=e,this.prepare=!0}),S["csv"]("bar_one2.csv",e=>{this.bar2.data=e,this.prepare=!0})},computed:{date(){return this.$store.state.date},flag(){return this.$store.state.flag},yS(){return S["scale"].linear().domain([-.2,.5]).range([0,this.height-6*this.margin])},data_raw(){return"half"==this.flag?this.bar1:this.bar2},data(){let e=[];for(let t=0;t<this.data_raw.data.length;t++){let a=Object();a["name"]=this.data_raw.data[t]["name"],a["rate"]=parseFloat(this.data_raw.data[t][this.date]),a["flag"]=this.data_raw.flag[t][this.date],e.push(a)}return e},div_css(){let e=this.height,t=this.width,a="0px solid black",i="absolute",n=this.top,r=this.left;return"position:"+i+";height:"+e+"px;width:"+t+"px;border:"+a+";left:"+r+"px;top:"+n+"px;"}},methods:{parse(e){let t=[];for(let a=0;a<e.length;a++)t.push(e[a]);return t},label_style(e){let t="absolute",a=this.margin+10+e*(this.width/36-2)-2,i=this.height-5*this.margin,n=1,r=2;return"position:"+t+";left:"+a+"px;top:"+i+"px;width:"+n+"px;font-size:"+r+"px;"},log(){console.log(this.bar1,this.bar2),console.log(Object.keys(this.data_raw.data[0])),console.log(this.date,this.data)},diff(e,t){let a=new Date(e),i=new Date(t);return Math.ceil(Math.abs(a-i)/864e5)}}};a("a7f1");const ne=C()(ie,[["render",ae],["__scopeId","data-v-5fec38c8"]]);var re=ne,le={name:"App",components:{curve:M,timeline:J,bar:re},data(){return{window_width:document.documentElement.clientWidth,window_height:document.documentElement.clientHeight}}};a("90e6");const oe=C()(le,[["render",n]]);var de=oe,ce=a("2d75"),he=a("5502"),se=Object(he["a"])({state(){return{time_list:[],flag:"half",date:"2015-06-26"}},mutations:{change_flag(e,t){e.flag=t.flag,"half"==t.flag?e.date="2015-06-26":e.date="2015-12-31"},change_date(e,t){e.date=t.date}}});a("3ad4");Object(i["createApp"])(de).use(se).use(ce["a"]).mount("#app")},"646d":function(e,t,a){},8102:function(e,t,a){},"90e6":function(e,t,a){"use strict";a("646d")},"9bdf":function(e,t,a){"use strict";a("a0fb")},a0fb:function(e,t,a){},a7f1:function(e,t,a){"use strict";a("8102")},c12e:function(e,t,a){"use strict";a("e178")},e178:function(e,t,a){}});
//# sourceMappingURL=app.24d4567a.js.map