(function(e){function t(t){for(var i,l,o=t[0],d=t[1],c=t[2],s=0,m=[];s<o.length;s++)l=o[s],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&m.push(r[l][0]),r[l]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(e[i]=d[i]);h&&h(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,o=1;o<a.length;o++){var d=a[o];0!==r[d]&&(i=!1)}i&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var i={},r={app:0},n=[];function l(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=i,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var h=d;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0545":function(e,t,a){"use strict";a("b958")},"137e":function(e,t,a){"use strict";a("6830")},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("7a23");function r(e,t,a,r,n,l){const o=Object(i["resolveComponent"])("curve"),d=Object(i["resolveComponent"])("bar"),c=Object(i["resolveComponent"])("timeline");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createVNode"])(o,{width:.5*n.window_width-15,height:.8*n.window_height-20,top:10,left:10},null,8,["width","height"]),Object(i["createVNode"])(d,{width:.5*n.window_width-15,height:.8*n.window_height-20,top:10,left:.5*n.window_width+5},null,8,["width","height","left"]),Object(i["createVNode"])(c,{width:n.window_width-20,height:.2*n.window_height-10,top:.8*n.window_height,left:10},null,8,["width","height","top"])],64)}const n=["height","width"],l={id:"axis"},o=["x1","x2","y1","y2"],d=["x1","x2","y1","y2"],c=["dx","dy"],h=["dx","dy"],s=["dx","dy"],m=["dx","dy"],g=["dx","dy"],u={key:0,id:"curve"},b=["d"],p=["d"],f=["x","y","height","width"],x=["dx","dy"],y=["dx","dy"],O={id:"legend"},j=["x","y"],w=["dx","dy"],v=["x","y"],_=["dx","dy"];function k(e,t,a,r,k,N){const V=Object(i["resolveComponent"])("t-divider");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"curve_view",style:Object(i["normalizeStyle"])(N.div_css)},[Object(i["createVNode"])(V,{id:"divider"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])("alpha筛选策略历史回测曲线"+Object(i["toDisplayString"])("half"==N.flag?"(每半年调仓)":"(每年调仓)"),1)]),_:1}),(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{id:"curve_svg",class:"axis",height:a.height,width:a.width,onClick:t[0]||(t[0]=(...e)=>N.log&&N.log(...e))},[Object(i["createElementVNode"])("g",l,[Object(i["createElementVNode"])("line",{id:"x_axis",x1:k.margin,x2:a.width-k.margin,y1:a.height-k.margin,y2:a.height-k.margin,stroke:"black"},null,8,o),Object(i["createElementVNode"])("line",{id:"y_axis",x1:k.margin,x2:k.margin,y1:k.margin,y2:a.height-k.margin,stroke:"black"},null,8,d),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:k.margin-5,dy:k.margin+5,"font-size":"14"}," 10 ",8,c),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:k.margin-5,dy:k.margin+.9*(a.height-2*k.margin)-5,"font-size":"14"}," 1 ",8,h),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:k.margin-5,dy:a.height-k.margin-5,"font-size":"14"}," 0 ",8,s),k.prepare?(Object(i["openBlock"])(),Object(i["createElementBlock"])("text",{key:0,"text-anchor":"start",dx:k.margin,dy:a.height-k.margin+15,"font-size":"14"},Object(i["toDisplayString"])(N.data[0]["time"]),9,m)):Object(i["createCommentVNode"])("",!0),k.prepare?(Object(i["openBlock"])(),Object(i["createElementBlock"])("text",{key:1,"text-anchor":"end",dx:a.width-k.margin,dy:a.height-k.margin+15,"font-size":"14"},Object(i["toDisplayString"])(N.data[N.data.length-1]["time"]),9,g)):Object(i["createCommentVNode"])("",!0)]),k.prepare?(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",u,[Object(i["createElementVNode"])("path",{d:N.line(N.data),fill:"none",stroke:"red","stroke-width":"3"},null,8,b),Object(i["createElementVNode"])("path",{d:N.line2(N.data),fill:"none",stroke:"grey","stroke-width":"3"},null,8,p),Object(i["createElementVNode"])("rect",{fill:"white",x:N.xS(N.diff(N.data[N.instant_index].time,N.data[0].time))+2,y:k.margin,height:a.height-2*k.margin-2,width:a.width},null,8,f),Object(i["createElementVNode"])("text",{dx:N.xS(N.diff(N.data[N.instant_index].time,N.data[0].time))+2+3,dy:N.yS(N.data[N.instant_index].rate)-3,stroke:"red","font-size":"12"},Object(i["toDisplayString"])(N.data[N.instant_index].rate.toFixed(3)),9,x),Object(i["createElementVNode"])("text",{dx:N.xS(N.diff(N.data[N.instant_index].time,N.data[0].time))+2+3,dy:N.yS(N.data[N.instant_index].rate2)+10,stroke:"grey","font-size":"12"},Object(i["toDisplayString"])(N.data[N.instant_index].rate2.toFixed(3)),9,y)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("g",O,[Object(i["createElementVNode"])("rect",{x:k.margin+20,y:k.margin+20,fill:"red",height:"10",width:"10",rx:"3"},null,8,j),Object(i["createElementVNode"])("text",{dx:k.margin+40,dy:k.margin+30,fill:"black",height:"10",width:"10","font-size":"13","font-weight":"bold"}," alpha排名前10%等权 ",8,w),Object(i["createElementVNode"])("rect",{x:k.margin+20,y:k.margin+40,fill:"grey",height:"10",width:"10",rx:"3"},null,8,v),Object(i["createElementVNode"])("text",{dx:k.margin+40,dy:k.margin+50,fill:"black",height:"10",width:"10","font-size":"13","font-weight":"bold"}," 36只产品等权 ",8,_)])],8,n))],4)}var N=a("1a48"),V={name:"curve",props:{height:Number,width:Number,top:Number,left:Number},data(){return{margin:30,data1:[],data2:[],prepare:!1}},mounted(){N["csv"]("line_half.csv",e=>{this.data1=e,this.prepare=!0}),N["csv"]("line_one.csv",e=>{this.data2=e,this.prepare=!0})},computed:{instant_index(){let e=0;for(let t=0;t<this.data.length;t++)if(this.diff2(this.data[t].time,this.date)>0){e=t-1;break}return e},flag(){return this.$store.state.flag},date(){return this.$store.state.date},data_raw(){return"half"==this.flag?this.data1:this.data2},data(){let e=[];if(0==this.data_raw.length)return[];let t=this.data_raw[0]["time"];for(let a=0;a<this.data_raw.length;a++){let i=Object(),r=this.data_raw[a];i["time"]=r["time"],i["index"]=this.diff(r["time"],t),i["rate"]=parseFloat(r["rate"]),i["rate2"]=parseFloat(r["rate2"]),e.push(i)}return e},time_span(){let e=this.data_raw.length,t=this.data_raw[0].time,a=this.data_raw[e-1].time;return this.diff(t,a)},line2(){return N["svg"].line().x((function(e){return this.xS(e["index"])})).y((function(e){return this.yS(e["rate2"])}))},line(){return N["svg"].line().x((function(e){return this.xS(e["index"])})).y((function(e){return this.yS(e["rate"])}))},xS(){return N["scale"].linear().domain([0,this.time_span]).range([this.margin,this.width-this.margin])},yS(){return N["scale"].linear().domain([10,0]).range([this.margin,this.height-this.margin])},div_css(){let e=this.height,t=this.width,a="0px solid black",i="absolute",r=this.top,n=this.left;return"position:"+i+";height:"+e+"px;width:"+t+"px;border:"+a+";left:"+n+"px;top:"+r+"px;"}},methods:{log(){console.log(this.data),console.log(this.time_span),console.log(this.instant_index)},diff(e,t){let a=new Date(e),i=new Date(t);return Math.ceil(Math.abs(a-i)/864e5)},diff2(e,t){let a=new Date(e),i=new Date(t);return Math.ceil((a-i)/864e5)}}},E=(a("0545"),a("6b0d")),S=a.n(E);const B=S()(V,[["render",k],["__scopeId","data-v-3186443e"]]);var C=B;const z=Object(i["createTextVNode"])("控制台"),D=Object(i["createTextVNode"])("半年"),M=Object(i["createTextVNode"])("一年"),F={id:"date"};function P(e,t,a,r,n,l){const o=Object(i["resolveComponent"])("t-divider"),d=Object(i["resolveComponent"])("t-slider"),c=Object(i["resolveComponent"])("t-radio-button"),h=Object(i["resolveComponent"])("t-radio-group"),s=Object(i["resolveComponent"])("t-switch");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"timeline",style:Object(i["normalizeStyle"])(l.div_css)},[Object(i["createVNode"])(o,{id:"divider"},{default:Object(i["withCtx"])(()=>[z]),_:1}),Object(i["createVNode"])(d,{id:"timer",modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),label:l.time_lst[n.value],max:l.maxi,min:0},null,8,["modelValue","label","max"]),Object(i["createVNode"])(h,{variant:"primary-filled",id:"radio","default-value":"half"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{value:"half",onClick:t[1]||(t[1]=e=>n.type="half")},{default:Object(i["withCtx"])(()=>[D]),_:1}),Object(i["createVNode"])(c,{value:"one",onClick:t[2]||(t[2]=e=>n.type="one")},{default:Object(i["withCtx"])(()=>[M]),_:1})]),_:1}),Object(i["createVNode"])(s,{id:"switch",modelValue:n.auto,"onUpdate:modelValue":t[3]||(t[3]=e=>n.auto=e),size:"large",label:["自动播放：开","自动播放：关"]},null,8,["modelValue"]),Object(i["createElementVNode"])("text",F," 日期："+Object(i["toDisplayString"])(l.time_lst[n.value]),1)],4)}var T={name:"timeline",props:{height:Number,width:Number,top:Number,left:Number},data(){return{value:0,type:"half",timer:!1,auto:!1}},computed:{maxi(){return this.time_lst.length-1},flag(){return this.$store.state.flag},time_lst(){return"half"==this.type?["2015-06-26","2015-12-31","2016-06-24","2016-12-30","2017-06-30","2017-12-31","2018-06-30","2018-12-28","2019-06-30","2019-12-27","2020-06-26","2020-12-31","2021-06-25","2021-12-31","2022-06-24"]:["2015-12-31","2016-12-30","2017-12-31","2018-12-28","2019-12-27","2020-12-31","2021-12-31","2022-07-01"]},div_css(){let e=this.height,t=this.width,a="0px solid black",i="absolute",r=this.top,n=this.left;return"position:"+i+";height:"+e+"px;width:"+t+"px;border:"+a+";left:"+n+"px;top:"+r+"px;"}},watch:{flag(){this.value=0,this.type=this.flag},type(){this.$store.commit({type:"change_flag",flag:this.type})},value(){this.$store.commit({type:"change_date",date:this.time_lst[this.value]}),this.value==this.time_lst.length-1&&(this.auto=!1)},auto(e){e?this.timer=setInterval(()=>{this.value<this.time_lst.length&&this.value++},2e3):(clearInterval(this.timer),this.timer=!1)}}};a("5d94");const $=S()(T,[["render",P],["__scopeId","data-v-df0a6e24"]]);var I=$;const L=["height","width"],A={key:0,id:"bars"},J=["height","width","x","y","fill"],U=["x","y","stroke"],H=["dx","dy","stroke"],W={id:"axis"},q=["x1","x2","y1","y2"],G=["x1","x2","y1","y2"],K=["dx","dy"],Q=["dx","dy"],R=["dx","dy"];function X(e,t,a,r,n,l){const o=Object(i["resolveComponent"])("t-divider");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"bar_view",style:Object(i["normalizeStyle"])(l.div_css)},[Object(i["createVNode"])(o,{id:"divider"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])("产品持仓情况"+Object(i["toDisplayString"])("half"==l.flag?"(每半年调仓)":"(每年调仓)"),1)]),_:1}),(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{id:"bar_svg",class:"axis",height:a.height,width:a.width,onClick:t[0]||(t[0]=e=>l.log())},[n.prepare?(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",A,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.data,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",{key:t},[Object(i["createElementVNode"])("rect",{height:e.rate>.5?Math.max(0,l.yS(.5)):Math.max(0,l.yS(e.rate)),width:a.width/36-10,x:n.margin+10+t*(a.width/36-2),y:e.rate>.5?a.height-5*n.margin-l.yS(.5):a.height-5*n.margin-l.yS(e.rate),fill:"1"==e.flag?"red":"grey",stroke:"none",rx:"3"},null,8,J)]))),128)),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.data,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",{key:t},[Object(i["createElementVNode"])("text",{"text-anchor":"middle",x:n.margin+10+t*(a.width/36-2)+3,y:e.rate>.5?a.height-5*n.margin-l.yS(.5)-5:a.height-5*n.margin-l.yS(e.rate)-5,stroke:e.rate>0?"red":"green","font-size":"9"},Object(i["toDisplayString"])("1"==e.flag?e.rate.toFixed(3):""),9,U),Object(i["createElementVNode"])("g",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.parse(e.name),(r,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("text",{key:l,"font-size":"9.5","font-family":"SimSun","text-anchor":"middle",dx:n.margin+10+t*(a.width/36-2)+4,dy:a.height-5*n.margin+12+11*l,stroke:"1"==e.flag?"red":"grey","stroke-opacity":".7"},Object(i["toDisplayString"])(r),9,H))),128))])]))),128))])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("g",W,[Object(i["createElementVNode"])("line",{id:"x_axis",x1:n.margin,x2:a.width-n.margin,y1:a.height-5*n.margin,y2:a.height-5*n.margin,stroke:"black"},null,8,q),Object(i["createElementVNode"])("line",{id:"y_axis",x1:n.margin,x2:n.margin,y1:n.margin,y2:a.height-5*n.margin,stroke:"black"},null,8,G),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:n.margin-5,dy:n.margin+5,"font-size":"14"}," 0.5 ",8,K),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:n.margin-5,dy:n.margin+5*(a.height-6*n.margin)/7-5,"font-size":"14"}," 0 ",8,Q),Object(i["createElementVNode"])("text",{"text-anchor":"end",dx:n.margin-5,dy:a.height-5*n.margin-5,"font-size":"14"}," -0.2 ",8,R)])],8,L))],4)}var Y={name:"bar",props:{height:Number,width:Number,top:Number,left:Number},data(){return{bar1:{data:{},flag:{}},bar2:{data:{},flag:{}},margin:30,prepare:!1}},mounted(){N["csv"]("bar_half.csv",e=>{this.bar1.flag=e,this.prepare=!0}),N["csv"]("bar_half2.csv",e=>{this.bar1.data=e,this.prepare=!0}),N["csv"]("bar_one.csv",e=>{this.bar2.flag=e,this.prepare=!0}),N["csv"]("bar_one2.csv",e=>{this.bar2.data=e,this.prepare=!0})},computed:{date(){return this.$store.state.date},flag(){return this.$store.state.flag},yS(){return N["scale"].linear().domain([-.2,.5]).range([0,this.height-6*this.margin])},data_raw(){return"half"==this.flag?this.bar1:this.bar2},data(){let e=[];for(let t=0;t<this.data_raw.data.length;t++){let a=Object();a["name"]=this.data_raw.data[t]["name"],a["rate"]=parseFloat(this.data_raw.data[t][this.date]),a["flag"]=this.data_raw.flag[t][this.date],e.push(a)}return e},div_css(){let e=this.height,t=this.width,a="0px solid black",i="absolute",r=this.top,n=this.left;return"position:"+i+";height:"+e+"px;width:"+t+"px;border:"+a+";left:"+n+"px;top:"+r+"px;"}},methods:{parse(e){let t=[];for(let a=0;a<e.length;a++)t.push(e[a]);return t},label_style(e){let t="absolute",a=this.margin+10+e*(this.width/36-2)-2,i=this.height-5*this.margin,r=1,n=2;return"position:"+t+";left:"+a+"px;top:"+i+"px;width:"+r+"px;font-size:"+n+"px;"},log(){console.log(this.bar1,this.bar2),console.log(Object.keys(this.data_raw.data[0])),console.log(this.date,this.data)},diff(e,t){let a=new Date(e),i=new Date(t);return Math.ceil(Math.abs(a-i)/864e5)}}};a("137e");const Z=S()(Y,[["render",X],["__scopeId","data-v-6ebc872c"]]);var ee=Z,te={name:"App",components:{curve:C,timeline:I,bar:ee},data(){return{window_width:document.documentElement.clientWidth,window_height:document.documentElement.clientHeight}}};a("ce83");const ae=S()(te,[["render",r]]);var ie=ae,re=a("2d75"),ne=a("5502"),le=Object(ne["a"])({state(){return{time_list:[],flag:"half",date:"2015-06-26"}},mutations:{change_flag(e,t){e.flag=t.flag,"half"==t.flag?e.date="2015-06-26":e.date="2015-12-31"},change_date(e,t){e.date=t.date}}});a("3ad4");Object(i["createApp"])(ie).use(le).use(re["a"]).mount("#app")},"5d94":function(e,t,a){"use strict";a("c612")},6830:function(e,t,a){},"7fbf":function(e,t,a){},b958:function(e,t,a){},c612:function(e,t,a){},ce83:function(e,t,a){"use strict";a("7fbf")}});
//# sourceMappingURL=app.6883b7cb.js.map